<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fraunces:wght@300..900&family=Manrope:wght@200..800&display=swap"
      rel="stylesheet"
    />

    <script src="https://unpkg.com/pocketbase/dist/pocketbase.umd.js"></script>

    <script defer src="scripts/script.js"></script>

    <title>InvoSave — Dashboard</title>

    <style>
      body {
        font-family: "Manrope", sans-serif;
      }
      .logo-text {
        font-family: "Fraunces", serif;
      }
      #invoice-modal {
        z-index: 1000;
      }
    </style>
  </head>

  <body class="bg-[#F4F4F4] text-black">
    <div class="flex min-h-screen">
      <aside
        class="w-[80px] fixed top-0 left-0 h-screen bg-white border-r-[4px] border-black drop-shadow-[6px_6px_0px_rgba(0,0,0,1)] flex flex-col justify-between py-6 z-50"
      >
        <div class="flex flex-col items-center gap-4">
          <div
            class="text-2xl font-black logo-text tracking-tight px-3 py-1 border-[3px] border-black bg-[#465FFF] text-white drop-shadow-[4px_4px_0px_rgba(0,0,0,1)]"
          >
            i
          </div>
        </div>

        <nav class="flex flex-col items-center gap-6">
          <div
            class="cursor-pointer p-3 border-[3px] border-black bg-white hover:bg-[#465FFF] hover:text-white transition-all drop-shadow-[4px_4px_0px_rgba(0,0,0,1)]"
            title="Dashboard"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="w-6 h-6"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              stroke-width="2"
            >
              <rect x="3" y="3" width="7" height="9" rx="1" />
              <rect x="14" y="3" width="7" height="5" rx="1" />
              <rect x="14" y="12" width="7" height="9" rx="1" />
              <rect x="3" y="16" width="7" height="5" rx="1" />
            </svg>
          </div>

          <a
            href="createinvoice.html"
            class="cursor-pointer p-3 border-[3px] border-black bg-white hover:bg-[#FFC700] transition-all drop-shadow-[4px_4px_0px_rgba(0,0,0,1)]"
            title="Add Invoice"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="w-6 h-6"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M12 5v14M5 12h14" />
            </svg>
          </a>
        </nav>

        <div class="flex flex-col items-center">
          <button
            id="logout-button"
            class="p-3 border-[3px] border-black bg-white hover:bg-red-500 hover:text-white transition-all drop-shadow-[4px_4px_0px_rgba(0,0,0,1)]"
            title="Sign out"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="w-6 h-6"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4M10 17l5-5-5-5M15 12H3"
              />
            </svg>
          </button>
        </div>
      </aside>

      <main class="flex-1 ml-[80px]">
        <header
          class="w-full bg-white border-b-[4px] border-black drop-shadow-[6px_6px_0px_rgba(0,0,0,1)] p-6 flex justify-between items-center"
        >
          <h1 class="text-4xl font-black logo-text tracking-tight">
            invo<span class="text-[#465FFF]">save</span>
          </h1>

          <div class="flex items-center gap-4">
            <div
              class="flex items-center gap-2 bg-white border-[3px] border-black px-4 py-2 drop-shadow-[4px_4px_0px_rgba(0,0,0,1)]"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="w-5 h-5"
                viewBox="0 0 20 20"
                fill="none"
                stroke="black"
                stroke-width="2"
              >
                <circle cx="9" cy="9" r="6"></circle>
                <line x1="14" y1="14" x2="19" y2="19"></line>
              </svg>
              <input
                id="search-input"
                class="outline-none bg-transparent"
                placeholder="Search invoices…"
              />
            </div>

            <div
              class="flex items-center gap-3 px-4 py-2 border-[3px] border-black bg-white drop-shadow-[4px_4px_0px_rgba(0,0,0,1)]"
            >
              <img
                src="https://themewagon.github.io/tailadmin-vuejs/images/user/owner.jpg"
                class="w-10 h-10 rounded-full border-[3px] border-black object-cover"
              />
              <span id="user-span" class="font-bold"></span>
            </div>
          </div>
        </header>

        <section class="p-10">
          <div
            class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-8 mb-14"
          >
            <div
              class="p-6 bg-white border-[4px] border-black rounded-[14px] drop-shadow-[8px_8px_0px_rgba(0,0,0,1)]"
            >
              <div class="text-xl font-black flex items-center gap-3">
                <span class="text-[#00C471] text-3xl">●</span>
                ACTIVE
              </div>
              <div id="metric-active" class="text-5xl font-black mt-3">0</div>
              <div class="text-sm font-semibold mt-1 text-gray-600">
                within warranty period
              </div>
            </div>

            <div
              class="p-6 bg-[#FFE570] border-[4px] border-black rounded-[14px] drop-shadow-[8px_8px_0px_rgba(0,0,0,1)]"
            >
              <div class="text-xl font-black flex items-center gap-3">
                <span class="text-[#D69100] text-3xl">●</span>
                EXPIRING
              </div>
              <div id="metric-expiring" class="text-5xl font-black mt-3">0</div>
              <div class="text-sm font-semibold mt-1 text-gray-700">
                in the next 30 days
              </div>
            </div>

            <div
              class="p-6 bg-[#FF4D4D] border-[4px] border-black rounded-[14px] drop-shadow-[8px_8px_0px_rgba(0,0,0,1)]"
            >
              <div
                class="text-xl font-black flex items-center gap-3 text-white"
              >
                <span class="text-white text-3xl">●</span>
                EXPIRED
              </div>
              <div
                id="metric-expired"
                class="text-5xl font-black mt-3 text-white"
              >
                0
              </div>
              <div class="text-sm font-semibold mt-1 text-white/90">
                warranty ended
              </div>
            </div>

            <div
              class="p-6 bg-[#2563EB] text-white border-[4px] border-black rounded-[14px] drop-shadow-[8px_8px_0px_rgba(0,0,0,1)]"
            >
              <div class="text-xl font-black flex items-center gap-3">
                <span class="text-white text-3xl">€</span>
                TOTAL VALUE
              </div>
              <div id="metric-total" class="text-5xl font-black mt-3">0€</div>
              <div class="text-sm font-semibold mt-1 text-white/80">
                sum of all invoices
              </div>
            </div>
          </div>

          <div class="flex flex-wrap gap-4 mb-10">
            <button
              class="filter-pill flex items-center gap-2 px-6 py-3 border-[4px] border-black bg-white rounded-[10px] font-black text-lg drop-shadow-[6px_6px_0px_rgba(0,0,0,1)] hover:bg-[#465FFF] hover:text-white transition-all"
              data-filter="all"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="22"
                height="22"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3" />
              </svg>
              ALL
            </button>

            <button
              class="filter-pill flex items-center gap-2 px-6 py-3 border-[4px] border-black bg-[#00C471] rounded-[10px] font-black text-lg text-black drop-shadow-[6px_6px_0px_rgba(0,0,0,1)] hover:bg-[#00A85A] transition-all"
              data-filter="active"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="22"
                height="22"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <circle cx="12" cy="12" r="10" />
                <path d="m9 12 2 2 4-4" />
              </svg>
              ACTIVE
            </button>

            <button
              class="filter-pill flex items-center gap-2 px-6 py-3 border-[4px] border-black bg-[#FFC700] rounded-[10px] font-black text-lg text-black drop-shadow-[6px_6px_0px_rgba(0,0,0,1)] hover:bg-[#E6B100] transition-all"
              data-filter="expiring"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="22"
                height="22"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <circle cx="12" cy="12" r="10" />
                <polyline points="12 6 12 12 16 14" />
              </svg>
              EXPIRING
            </button>

            <button
              class="filter-pill flex items-center gap-2 px-6 py-3 border-[4px] border-black bg-[#FF4D4D] rounded-[10px] font-black text-lg text-black drop-shadow-[6px_6px_0px_rgba(0,0,0,1)] hover:bg-[#D63E3E] transition-all"
              data-filter="overdue"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="22"
                height="22"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <circle cx="12" cy="12" r="10" />
                <line x1="12" y1="8" x2="12" y2="12" />
                <line x1="12" y1="16" x2="12.01" y2="16" />
              </svg>
              OVERDUE
            </button>

            <div class="relative inline-block">
              <button
                id="categoriesBtn"
                class="flex items-center gap-2 px-6 py-3 border-[4px] border-black bg-white rounded-[10px] font-black text-lg drop-shadow-[6px_6px_0px_rgba(0,0,0,1)] hover:bg-[#465FFF] hover:text-white transition-all"
              >
                CATEGORIES
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="22"
                  height="22"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <polyline points="6 9 12 15 18 9" />
                </svg>
              </button>

              <div
                id="categoriesMenu"
                class="absolute hidden mt-2 w-56 bg-white border-[4px] border-black rounded-[10px] p-3 flex flex-col gap-3 drop-shadow-[6px_6px_0px_rgba(0,0,0,1)] z-40"
              >
                <button
                  class="category-option text-left font-black hover:text-[#465FFF]"
                  data-category="electronics"
                ></button>
              </div>
            </div>
          </div>

          <h2 class="text-4xl font-black mb-6">My Invoices</h2>

          <div
            id="invoice-container"
            class="grid gap-8 grid-cols-1 md:grid-cols-2 xl:grid-cols-3"
          ></div>
        </section>
      </main>
    </div>

    <div
      id="invoice-modal"
      class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center"
    >
      <div
        id="invoice-modal-content"
        class="bg-white rounded-[14px] border-[4px] border-black drop-shadow-[8px_8px_0px_rgba(0,0,0,1)] w-full max-w-2xl mx-4 p-8 relative"
      >
        <button
          id="modal-close-button"
          class="absolute top-4 right-4 text-3xl font-black"
        >
          &times;
        </button>
        <h2
          id="modal-title"
          class="text-4xl font-black logo-text tracking-tight mb-6"
        >
          Invoice Details
        </h2>
        <div id="modal-body" class="space-y-4"></div>
      </div>
    </div>
  </body>
</html>
